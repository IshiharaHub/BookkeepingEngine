<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BookkeepingEngine</title>

    <!-- Bootstrap CSS（気にしなくて良い） -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />

    <!-- 作成した CSS ファイルを読み込んでいる -->
    <link rel="stylesheet" href="./css/style.css" />
  </head>
  <body>
    <!-- 画面上部のヘッダー -->
    <nav class="navbar navbar-dark bg-dark">
      <div class="container-fluid">
        <span class="navbar-brand mb-0 h1">BookkeepingEngine</span>
      </div>
    </nav>

    <div class="container mt-4">
      <!-- ページの見出し -->
      <h1>総合原価計算</h1>

      <!-- ページの説明 -->
      <div class="mb-5">
        <!-- <div class="alert alert-primary" role="alert"> -->
        <p>総合原価の計算を効率的かつ正確に行うことができます。下記のステップに従って、必要な情報を入力し、計算を開始してください。</p>

        <p class="fw-bold">1. 計算方法の選択：</p>
        <p>平均法または先入先出法（FIFO）のいずれかを選択してください。</p>
        <p class="fw-bold">2. データ入力：</p>
        <p>生産データや製造原価データの項目に正確な数値を入力します。</p>
        <p class="fw-bold">3. 計算開始：</p>
        <p>すべてのデータを入力した後、「計算開始」ボタンを押下すると、総合原価の計算結果が即座に表示されます。</p>
        <!-- </div> -->
      </div>

      <!-- 計算方法の選択 -->
      <div class="mb-5">
        <h3>計算方法</h3>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="calc-type" id="average" checked />
          <label class="form-check-label" for="flexRadioDefault1">平均法</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="calc-type" id="fifo" />
          <label class="form-check-label" for="flexRadioDefault2">先入先出法</label>
        </div>
      </div>

      <!-- データ入力 -->
      <div class="mb-5">
        <h3>データ入力</h3>

        <!-- 生産データ -->
        <div class="mt-3">
          <h5>1. 生産データ</h5>
          <div class="mb-3">
            <div class="row">
              <label for="initial-work-in-progress" class="col-form-label">月初仕掛品</label>
              <div>
                <input
                  type="text"
                  inputmode="numeric"
                  class="form-control text-right-input refreshable-total-input input-validate"
                  id="initial-work-in-progress"
                  placeholder="単位：個"
                />
              </div>
            </div>
            <div class="mb-3 row">
              <label for="initial-work-in-progress-percent" class="col-form-label">月初仕掛品(加工進捗度)</label>
              <div>
                <input
                  type="text"
                  inputmode="numeric"
                  id="initial-work-in-progress-percent"
                  class="form-control text-right-input input-validate"
                  placeholder="単位：％"
                />
              </div>
            </div>
            <div class="mb-3 form-group row">
              <label for="current-month-input" class="col-4 col-form-label">当月投入</label>
              <div>
                <input
                  type="text"
                  inputmode="numeric"
                  id="current-month-input"
                  class="form-control text-right-input refreshable-total-input input-validate"
                  placeholder="単位：個"
                />
              </div>
            </div>
            <div class="mb-3 row">
              <label for="total-production" class="col-form-label">計</label>
              <div>
                <input type="text" inputmode="numeric" id="total-production" class="form-control text-right-input" placeholder="単位：個" disabled />
              </div>
            </div>
            <div class="row">
              <label for="end-work-in-progress" class="col-form-label">月末仕掛品</label>
              <div>
                <input
                  type="text"
                  inputmode="numeric"
                  id="end-work-in-progress"
                  class="form-control text-right-input input-validate"
                  placeholder="単位：個"
                />
              </div>
            </div>
            <div class="mb-3 row">
              <label for="end-work-in-progress-percent" class="col-form-label">月末仕掛品(加工進捗度)</label>
              <div>
                <input
                  type="text"
                  inputmode="numeric"
                  id="end-work-in-progress-percent"
                  class="form-control text-right-input input-validate"
                  placeholder="単位：％"
                />
              </div>
            </div>
            <div class="mb-3 row">
              <label for="finished-goods" class="col-form-label">完成品</label>
              <div>
                <input
                  type="text"
                  inputmode="numeric"
                  id="finished-goods"
                  class="form-control text-right-input input-validate"
                  placeholder="単位：個"
                />
              </div>
            </div>
          </div>
        </div>

        <!-- 製造原価データ -->
        <div class="mt-3">
          <h5>2. 製造原価データ</h5>
          <div class="mb-3">
            <div class="mb-3 row">
              <label for="initial-cost-materials" class="col-form-label">月初仕掛品原価の直接材料費</label>
              <div>
                <input
                  type="text"
                  inputmode="numeric"
                  id="initial-cost-materials"
                  class="form-control text-right-input refreshable-table-input input-validate"
                  placeholder="単位：円"
                />
              </div>
            </div>
            <div class="mb-3 row">
              <label for="initial-cost-processing" class="col-form-label">月初仕掛品原価の加工費</label>
              <div>
                <input
                  type="text"
                  inputmode="numeric"
                  id="initial-cost-processing"
                  class="form-control text-right-input refreshable-table-input input-validate"
                  placeholder="単位：円"
                />
              </div>
            </div>
            <div class="mb-3 row">
              <label for="current-month-manufacturing-expense-materials" class="col-form-label">当月製造費用の直接材料費</label>
              <div>
                <input
                  type="text"
                  inputmode="numeric"
                  id="current-month-manufacturing-expense-materials"
                  class="form-control text-right-input refreshable-table-input input-validate"
                  placeholder="単位：円"
                />
              </div>
            </div>
            <div class="mb-3 row">
              <label for="current-month-manufacturing-expense-processing" class="col-form-label">当月製造費用の加工費</label>
              <div>
                <input
                  type="text"
                  inputmode="numeric"
                  id="current-month-manufacturing-expense-processing"
                  class="form-control text-right-input refreshable-table-input input-validate"
                  placeholder="単位：円"
                />
              </div>
            </div>
          </div>

          <div class="mb-3">
            <!-- TODO:表の初期値を設定しているが、計算処理が実装できて一通り問題なさそうだったらブランクに戻す -->
            <table class="table">
              <thead>
                <tr>
                  <th scope="col"></th>
                  <th scope="col">直接材料費</th>
                  <th scope="col">加工費</th>
                  <th scope="col">計</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th scope="row">月初仕掛品原価</th>
                  <!-- 直接材料費 -->
                  <td><span id="tbl-initial-cost-materials" class="table-item"></span></td>
                  <!-- 加工費 -->
                  <td><span id="tbl-initial-cost-processing" class="table-item"></span></td>
                  <!-- 計 -->
                  <td><span id="tbl-initial-cost-materials-total" class="table-item"></span></td>
                </tr>
                <tr>
                  <th scope="row">当月製造費用</th>
                  <!-- 直接材料費 -->
                  <td><span id="tbl-current-month-manufacturing-expense-materials" class="table-item"></span></td>
                  <!-- 加工費 -->
                  <td><span id="tbl-current-month-manufacturing-expense-processing" class="table-item"></span></td>
                  <!-- 計 -->
                  <td><span id="tbl-current-month-manufacturing-expense-materials-total" class="table-item"></span></td>
                </tr>
                <tr>
                  <th scope="row">計</th>
                  <!-- 直接材料費 -->
                  <td><span id="tbl-direct-material-costs-total" class="table-item"></span></td>
                  <!-- 加工費 -->
                  <td><span id="processing-cost-total" class="table-item"></span></td>
                  <!-- 計 -->
                  <td><span id="all-total" class="table-item"></span></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- 計算結果 -->
      <div id="result-area">
        <div class="mb-5">
          <h3>計算結果</h3>
          <div class="mb-3">
            <div class="card card-body">
              <div class="mb-3">
                <label for="cost-of-goods-sold" class="col-form-label">完成品総合原価</label>
                <div>
                  <input type="text" readonly class="form-control-plaintext" id="cost-of-goods-sold" value="1,000円" />
                </div>
              </div>
              <div class="mb-3">
                <label for="ending-work-in-progress-inventory" class="col-form-label">月末仕掛品原価</label>
                <div>
                  <input type="text" readonly class="form-control-plaintext" id="ending-work-in-progress-inventory" value="5,000円" />
                </div>
              </div>
              <div class="mb-3">
                <label for="cost-per-finished-good" class="col-form-label">完成品単位原価</label>
                <div>
                  <input type="text" readonly class="form-control-plaintext" id="cost-per-finished-good" value="10,000円" />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 計算開始 -->
      <div>
        <div class="d-grid gap-2 mb-5">
          <button class="btn btn-primary" id="calc-start-button" onclick="calc()" type="button">計算開始</button>
        </div>
      </div>
    </div>

    <!-- フッター -->
    <footer class="bg-light mt-auto py-3 border-top">
      <div class="container">
        <p class="mb-0 text-muted">© 2023 Ishihara Hub. 「BookkeepingEngine」 - 簿記の計算を自動化する。</p>
      </div>
    </footer>

    <!-- BootStrap JS（気にしなくて良い）-->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>

    <!-- 作成した JavaScript ファイルを読み込んでいる -->
    <script src="js/script.js" defer></script>
  </body>
</html>
